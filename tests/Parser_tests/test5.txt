from lexer import Token, TokenType, Lexer
from parser import Parser
from evaluator import interpreter

def test_parser():
    code = """
    let x = 10 + 5 * 2;
    if (x > 10) {
        print("x is greater than 10");
    }
    let arr = [1, 2, 3];
    while (x < 100) {
        x = x + 10;
    }
    repeat {
        x = x - 5;
    } until (x <= 50)
    print(x);
    """

    lexer = Lexer(code)
    tokens = lexer.tokenize()
    parser = Parser(tokens)
    ast = parser.parse()

    interpreter = Interpreter(ast)
    interpreter.execute()

if __name__ == "__main__":
    test_parser()
